<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{channel.name}}</title>
    <meta name="format-detection" content="telephone=no" />
    <meta name="description" content="">
    <meta name="keyword" content="">
    <link rel="shortcut icon" href="https://img.qlchat.com/qlLive/ico/favicon.ico" type="image/x-icon" />
    <script src="../../components_modules/lib-flexible/1.0.0/lib-flexible.js"></script><!--ignore-->
    <script type="text/javascript" src="../../components_modules/require/2.1.18/require.js"></script>
</head>
<body>
    <div id="container">
        <header class="header">
            <p class="channel-name">{{channel.name}}</p>

            <div class="channel-user-info">
                <span class="label-normal">直播间:</span>
                <a class="live-name" href="/wechat/page/live/{{channel.liveId}}">{{channel.liveName}}</a>

                {{#if chargePos}}
                    <!--已付款-->
                    {{#compare channel.chargeType "==" "absolutely"}}
                        <span class="channel-charge">票价：{{ticketMoney}}</span>
                    {{/compare}}

                    {{#compare channel.chargeType "==" "flexible"}}
                        <span class="channel-charge">会员专享</span>
                        {{#compare chargePos.chargeMonths ">" 0}}
                            <span id="renew">{{chargePos.chargeMonths}}个月会员</span>
                        {{/compare}}
                    {{/compare}}

                {{else}}
                    <!--未付款-->
                    {{#compare channel.chargeType "==" "absolutely"}}
                        {{#if chargeConfigs}}
                            {{#compare ticketMoney ">" 0}}
                                <!--固定收费逻辑非免费-->
                                <span class="channel-charge">票价：{{ticketMoney}}</span>
                            {{/compare}}
                            {{#compare ticketMoney "<=" 0}}
                                <!--固定收费免费-->
                                <span class="channel-free">免费</span>
                            {{/compare}}
                        {{/if}}
                    {{/compare}}

                    {{#compare channel.chargeType "==" "flexible"}}
                        <!--按月收费-->
                        <span class="channel-free">会员专享</span>
                    {{/compare}}

                {{/if}}
            </div>

            {{#compare userCount "!=" 0}}
            <div class="join-member">
                <div class="member-portrait">
                    {{#each userList}}
                        <img src="{{headImgUrl}}" alt="">
                    {{/each}}
                </div>
                <div class="member-count">
                    {{userCount}}次学习
                </div>
            </div>
            {{/compare}}
        </header>

        <section class="tab-bar">

        </section>

        <section id="list" class="main-list">

        </section>

        <aside class="empty" id="empty-list">
            <img src="./img/ico_norecord2.png" alt="">
            <p>暂无系列课课程</p>
        </aside>
        <aside class="empty" id="empty-intro">
            <img src="./img/empty-intro.png" alt="">
            <p>您还没有填写相关哦~</p>
        </aside>

        <div class="loading-next">加载数据中...</div>
        <div class="no-more">已全部加载完毕</div>

    </div>

    <div class="btn-row">
        {{#if chargePos}}
            <span class="payed-btn">你已购买此系列课</span>
        {{/if}}

        {{#compare channel.chargeType "==" "absolutely"}}
            <!--固定收费-->
            {{#unless chargePos}}
                <span class="pay-btn" id="do-abs-pay" data-money="{{ticketMoney}}">点击付费(￥{{ticketMoney}})</span>
            {{/unless}}
        {{/compare}}

        {{#compare channel.chargeType "==" "flexible"}}
            <!--按时收费-->
            {{#unless chargePos}}
                <span class="pay-btn" id="do-pay-poper">购买系列课：{{chargeConfigsStr}}
            {{/unless}}
        {{/compare}}

    </div>

    <!--SCRIPT_PLACEHOLDER-->
    <script>
        (function(win) {
            var initData = {};

            initData.CHANNEL_ID = [[CHANNEL_ID]];

            initData.TOPIC_LIST = '[[TOPIC_LIST]]';

            initData.CHANNEL_INTRO = '[[CHANNEL_INTRO]]';

            initData.CHARGE_CONFIGS = [[CHARGE_CONFIGS]];

            initData.TOPIC_COUNT = [[TOPIC_COUNT]];

            initData.CHARGE_PO = [[CHARGE_PO]];

            initData.LIVE_ID = [[LIVE_ID]];

            initData.CHARGE_CONFIGS_STR = '[[CHARGE_CONFIGS_STR]]';

            require(['./channel-index'], function (channelIndex) {
                channelIndex.init(initData);
            });
        })(window);
    </script><!--ignore-->
    <script>
        // 百度统计
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?9f8c5d323a26421cb966b5e405d629c3";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script><!--ignore-->
</body>
</html>
